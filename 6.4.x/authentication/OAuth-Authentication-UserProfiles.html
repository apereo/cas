<!DOCTYPE html>
<html>

<head>
  <!-- Required meta tags always come first -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="description" content="CAS - Enterprise Single Sign-On for the Web" />
  <meta name="keywords" content="authentication, login, cas, central authentication service, web, java, protocol, thymeleaf,
                   open source, boot, spring, authorization, google, facebook, twitter, higher-ed, enterprise,
                   access management, single signon, sso, RBAC, ABAC, attributes, SAML, OpenID, openid connect,
                   JWT, ADFS" />
  <meta name="robots" content="index,follow" />

  
  

      
    


  

  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-83384532-2', 'auto');
    ga('send', 'pageview');

  </script>

  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.15.3/css/all.css" />
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

  <link rel="stylesheet" type="text/css" media="screen" href="../../stylesheets/stylesheet.css">
  <link rel="stylesheet" type="text/css" media="print" href="../../stylesheets/print.css">
  
  <link href='//fonts.googleapis.com/css?family=Lato:400,300,700' rel='stylesheet'>
  <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic&subset=latin-ext,latin' rel='stylesheet'>
  <link href="//fonts.googleapis.com/css2?family=Roboto+Slab:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="//cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" rel="stylesheet">
  
  <title>CAS - OAuth Authentication</title>

</head>

<body>
  <!-- HEADER -->
  <header class="hidden-sm-down">
    <div class="container">
      <div class="row">
        <div class="col-xs-4 col-md-2">
          <a href="../../index.html">
            <img class="undecorated" src="../../images/cas_logo.png" />
          </a>
        </div>
        <div class="col-xs-8 col-md-6">
          <h1>Enterprise Single Sign-On for All</h1>
        </div>
        <div class="hidden-sm-down col-md-4">
          <a id="forkme_banner" href="https://github.com/apereo/cas">View on GitHub</a>
        </div>

      </div>
    </div>
  </header>

  <!-- NAVBAR -->

  <nav class="navbar navbar-expand-md navbar-dark bg-primary bg-dark">
    <div class="container">
      <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse"
        data-bs-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="navbar-collapse collapse" id="navbarsExample04">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active"><a href="../../index.html" class="zoom nav-link">Home</a></li>
          <li class="nav-item"><a href="https://github.com/apereo/cas/releases" class="zoom nav-link">Releases</a></li>
          <li class="nav-item"><a href="../../Support.html" class="zoom nav-link">Support</a></li>
          <li class="nav-item"><a href="../../Mailing-Lists.html" class="zoom nav-link">Mailing Lists</a></li>
          <li class="nav-item">
            <a class="zoom nav-link" href="../../Demos.html">Demos</a>
          </li>
          <li class="nav-item dropdown">
            <a class="zoom nav-link dropdown-toggle mr-md-2" href="#" id="cas-versions" data-bs-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">Versions</a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="cas-versions">
              
              
              <a class="dropdown-item" href="/cas/development/">Development</a>
              
              
              
              <a class="dropdown-item" href="/cas/6.5.x/">v6.5.x</a>
              
              
              
              <a class="dropdown-item" href="/cas/6.4.x/">v6.4.x</a>
              
              
              
              <a class="dropdown-item" href="/cas/6.3.x/">v6.3.x</a>
              
              
              
              <a class="dropdown-item" href="/cas/6.2.x/">v6.2.x</a>
              
              
              
              <a class="dropdown-item" href="/cas/6.1.x/">v6.1.x</a>
              
              
              
              <a class="dropdown-item" href="/cas/6.0.x/">v6.0.x</a>
              
              

            </div>
          </li>
          <li class="nav-item"><a href="https://apereo.github.io" target="_blank" class="zoom nav-link">Blog</a></li>
        </ul>

      </div>

    </div>
  </nav>



  <div class="container-fluid">
    <div class="row flex-xl-nowrap">
      <div class="col-12 col-md-3 col-xl-2 docs-sidebar pb-5" id="sidebar"></div>


      <div class="d-none d-xl-block col-xl-2 docs-toc">
    <div id="pageContents">
        <ul class="section-nav"></ul>
    </div>
</div>


      <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 cas-docs-content" role="main">
        <form class="mb-3">
          <label for="searchField" class="sr-only">Search</label>
          <div class="input-group">
            <input type="text" class="form-control" id="searchField" placeholder="Search" title="At least 3 characters"
              aria-label="Search" />
          </div>
        </form>

        

        <section>
          <nav id="docsNavBar">
            <span id="toolbarIcons"></span>
          </nav>

          <div id="cas-docs-container">
            
<h1 id="user-profiles---oauth-authentication">User Profiles - OAuth Authentication</h1>

<p>The requested user profile may be rendered and consumed by the application using the following options.</p>

<h2 id="nested">Nested</h2>

<p>By default, the requested user profile is rendered using a <code class="language-plaintext highlighter-rouge">NESTED</code> format where 
the authenticated principal and attributes are placed inside <code class="language-plaintext highlighter-rouge">id</code> and <code class="language-plaintext highlighter-rouge">attributes</code> tags 
respectively in the final structure.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"casuser"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"casuser@example.org"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CAS"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"something"</span><span class="p">:</span><span class="w"> </span><span class="s2">"else"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="flat">Flat</h2>

<p>This option flattens principal attributes by one degree, putting them 
at the same level as <code class="language-plaintext highlighter-rouge">id</code>. Other nested elements in the final payload are left untouched.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"casuser"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"casuser@example.org"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CAS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"something"</span><span class="p">:</span><span class="w"> </span><span class="s2">"else"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="custom">Custom</h2>

<p>If you wish to create your own profile structure, you will need to 
design a component and register it with CAS to handle the rendering of the user profile:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">org.apereo.cas.support.oauth</span><span class="o">;</span>

<span class="nd">@Configuration</span><span class="o">(</span><span class="s">"MyOAuthConfiguration"</span><span class="o">)</span>
<span class="nd">@EnableConfigurationProperties</span><span class="o">(</span><span class="nc">CasConfigurationProperties</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyOAuthConfiguration</span> <span class="o">{</span>

    <span class="nd">@Bean</span>
    <span class="nd">@RefreshScope</span>
    <span class="kd">public</span> <span class="nc">OAuth20UserProfileViewRenderer</span> <span class="nf">oauthUserProfileViewRenderer</span><span class="o">()</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><a href="../configuration/Configuration-Management-Extensions.html">See this guide</a> to learn more about 
how to register configurations into the CAS runtime.</p>

          </div>
        </section>
      </main>
    </div>
  </div>


  <footer>
    <div class="container">
      CAS is supported by the <a href="http://www.apereo.org/">Apereo Foundation</a>.
    </div>
  </footer>

  <script>
    var pageSection = 'Authentication';
  </script>

  <script src="//code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>

  <script src="//cdnjs.cloudflare.com/ajax/libs/tether/1.3.2/js/tether.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>

  <script src="../../javascripts/URI.js"></script>
  <script src="../../javascripts/main.js"></script>

  <script type="text/javascript" src="//cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript" src="//cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
  
  <script type="text/javascript">
    new ClipboardJS('.copy-button');

    let tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    let tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl)
    })

    docsearch({
      apiKey: 'e574b72c1301f8a28e49ec9644096c79',
      indexName: 'apereo',
      inputSelector: '#searchField',
      algoliaOptions: { 'facetFilters': ["version: 6.4.x"] },
      debug: false // Set debug to true if you want to inspect the dropdown
    });
  </script>
</body>

</html>
