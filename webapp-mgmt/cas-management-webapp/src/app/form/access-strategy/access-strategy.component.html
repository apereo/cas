<div class="panel panel-success">
  <div class="panel-heading">
    <ng-container i18n="services_form_header_sas">
      {{ messages.services_form_header_sas }}
    </ng-container>
  </div>
  <div class="panel-body">
    <div class="form-group">
      <div class="col-sm-6 checkbox">
        <label class="col-sm-12" for="ssoEnabled">
          <input type="checkbox" id="ssoEnabled" [(ngModel)]="serviceData.supportAccess.ssoEnabled">
          <ng-container i18n="services.form.label.sas.ssoEnabled">
            {{ messages.services_form_label_sas_ssoEnabled }}
          </ng-container>
          <i i18n-myTooltip="services.form.tooltip.sas.ssoEnabled" [myTooltip]="messages.services_form_tooltip_sas_ssoEnabled"></i>
        </label>
      </div>
      <div class="col-sm-6 checkbox">
        <label class="col-sm-12" for="sasRequireAll">
          <input type="checkbox" id="sasRequireAll"
                 [(ngModel)]="serviceData.supportAccess.requireAll">
          <ng-container i18n="services.form.label.sas.requireAll">
            {{ messages.services_form_label_sas_requireAll }}
          </ng-container>
          <i i18n-myTooltip="services.form.tooltip.sas.requireAll" [myTooltip]="messages.services_form_tooltip_sas_requireAll"></i>
        </label>
      </div>
    </div>

    <div class="form-group">
      <label class="col-sm-12">
        <ng-container i18n="services.form.label.sas.requiredAttr">
          {{ messages.services_form_label_sas_requiredAttr }}
        </ng-container>
        <i i18n-myTooltip="services.form.tooltip.sas.requiredAttr" [myTooltip]="messages.services_form_tooltip_sas_requiredAttr"></i>
      </label>
    </div>

    <!-- sasMapTable -->
    <div class="panel panel-default">
      <table id="sasMapTable" class="table table-striped table-hover table-responsive table-condensed">
        <thead>
        <tr>
          <th class="col-md-6">
            <ng-container i18n="services.form.label.attrRelease.policies.sourceAttribute">
              {{ messages.services_form_label_attrRelease_policies_sourceAttribute }}
            </ng-container>
          </th>
          <th class="col-md-6">
            <ng-container i18n="services.form.label.attrRelease.policies.casAttribute">
              {{ messages.services_form_label_attrRelease_policies_casAttribute }}
            </ng-container>
          </th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let mappedValue of formData.availableAttributes">
          <td class="va-middle">{{ mappedValue }}</td>
          <td><input class="form-control noresize"
                     [(ngModel)]="serviceData.supportAccess.requiredAttrStr[ mappedValue ]">
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- Unauthorized Redirect URL -->
    <div class="form-group">
      <label for="unauthorizedRedirectUrl" class="col-sm-4">
        <span style="float:right">
          <ng-container i18n="services.form.label.sas.unauthorizedredirecturl">
            {{ messages.services_form_label_sas_unauthorizedredirecturl }}
          </ng-container>
          <i i18n="services.form.tooltip.sas.unauthorizedredirecturl" [myTooltip]="messages.services_form_tooltip_sas_unauthorizedredirecturl"></i>
        </span>
      </label>
      <div class="col-sm-8">
        <input type="text" class="form-control" id="unauthorizedRedirectUrl"
               [(ngModel)]="serviceData.supportAccess.unauthorizedRedirectUrl">
      </div>
    </div>

    <!-- Case Insensitive -->
    <div class="form-group">
      <label for="unauthorizedRedirectUrl" class="col-sm-4">
        <span style="float:right">
          <ng-container i18n="services.form.label.sas.caseinsensitive">
            {{ messages.services_form_label_sas_caseinsensitive }}
          </ng-container>
          <i i18n-myTooltip="services.form.tooltip.sas.unauthorizedredirecturl" [myTooltip]="messages.services_form_tooltip_sas_unauthorizedredirecturl"></i>
        </span>
      </label>
      <div class="col-sm-8">
        <div class="checkbox checkbox-inline">
          <input type="checkbox" id="caseInsensitive" [(ngModel)]="serviceData.supportAccess.caseInsensitive">
        </div>
      </div>
    </div>

    <app-rejectedattributes [serviceData]="serviceData"></app-rejectedattributes>

    <!-- Select Type -->
    <div class="form-group">
      <label for="selectType" class="col-sm-4">
        <span style="float:right">
          <ng-container i18n="services.form.label.sas.selecttype">
            {{ messages.services_form_label_sas_selecttype }}
          </ng-container>
          <i i18n-myTooltip="services.form.tooltip.sas.selecttype" [myTooltip]="messages.services_form_tooltip_sas_selecttype"></i>
        </span>
      </label>
      <div class="col-sm-8">
        <select class="form-control" id="selectType" [(ngModel)]="serviceData.supportAccess.type">
          <option
            *ngFor="let opt of selectOptions.selectType"
            [value]="opt.value">
            {{ opt.name }}
          </option>
        </select>
      </div>
    </div>

    <div class="form-group" *ngIf="serviceData.supportAccess.type == 'REMOTE'">
      <label for="unauthorizedRedirectUrl" class="col-sm-4">
        <span style="float:right">
          <ng-container i18n="services.form.label.sas.remoteUrl">
            {{ messages.services_form_label_sas_remoteUrl }}
          </ng-container>
          <i i18n-myTooltip="services.form.tooltip.sas.remoteUrl"
             [myTooltip]="messages.services_form_tooltip_sas_remoteUrl"></i>
        </span>
      </label>
      <div class="col-sm-8">
        <input type="text" class="form-control" id="remoteUrl"
               [(ngModel)]="serviceData.supportAccess.url">
      </div>

      <label for="authorizedCodes" class="col-sm-4">
        <span style="float:right">
          <ng-container i18n="services.form.label.sas.authorizedCodes">
            {{ messages.services_form_label_sas_authorizedCodes }}
          </ng-container>
          <i i18n-myTooltip="services.form.tooltip.sas.authorizedCodes"
             [myTooltip]="messages.services_form_tooltip_sas_authorizedCodes"></i>
        </span>
      </label>
      <div class="col-sm-8">
        <input type="text" class="form-control" id="authorizedCodes"
               [(ngModel)]="serviceData.supportAccess.codes">
      </div>
    </div>

    <div id="accessDateTime"
         *ngIf="serviceData.supportAccess.type != 'DEFAULT' && serviceData.supportAccess.type != 'REMOTE'">
      <div class="form-group">
        <label for="accessStartingDateInput" class="col-sm-4">
          <span style="float:right">
            <ng-container i18n="services.form.label.sas.starttime">
              {{ messages.services_form_label_sas_starttime }}
            </ng-container>
            <i i18n="services.form.tooltip.sas.starttime"
               [myTooltip]="messages.services_form_tooltip_sas_starttime"></i>
          </span>
        </label>

        <div class='col-sm-8'>
          <div class="input-group date" id="accessStartingDate">
            <input type='datetime-local' class="form-control"
                   id='accessStartingDateInput'
                   [(ngModel)]="serviceData.supportAccess.startingTime">
<!--            <span class="input-group-addon">
              <span class="glyphicon glyphicon-time"></span>
            </span>-->
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="accessEndingDateInput" class="col-sm-4">
          <span style="float:right">
            <ng-container i18n="services.form.label.sas.endtime">
              {{ messages.services_form_label_sas_endtime }}
            </ng-container>
            <i i18n="services.form.tooltip.sas.endtime"
               [myTooltip]="messages.services_form_tooltip_sas_endtime"></i>
          </span>
        </label>
        <div class="col-sm-8">
          <div class='input-group date' id='accessEndingDate'>
            <input type='datetime-local' class="form-control"
                   id='accessEndingDateInput'
                   [(ngModel)]="serviceData.supportAccess.endingTime">
<!--            <span class="input-group-addon">
              <span class="glyphicon glyphicon-time"></span>
            </span> -->
          </div>
        </div>
      </div>
    </div>


    <div id="grouperOptions" *ngIf="serviceData.supportAccess.type == 'GROUPER'">
      <div class="form-group">
        <label for="groupField" class="col-sm-4">
          <span style="float:right">
            <ng-container i18n="services.form.label.sas.grouper.groupfield">
              {{ messages.services_form_label_sas_grouper_groupfield }}
            </ng-container>
            <i i18n="services.form.tooltip.sas.grouper"
               [myTooltip]="messages.services_form_tooltip_sas_grouper"></i>
          </span>
        </label>
        <div class="col-sm-8">
          <div class="input-group">
            <div class="input-group-addon input-group-required"
                 i18n-title="services.form.required"
                 [title]="messages.services_form_required">
              <i class="fa fa-exclamation-triangle"></i>
            </div>
            <select class="form-control" id="groupField" [(ngModel)]="serviceData.supportAccess.groupField">
              <option
                *ngFor="let opt of selectOptions.groupField"
                [value]="opt.value">
                {{ opt.name }}
              </option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

