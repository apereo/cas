<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <!-- Required meta tags always come first -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="CAS - Enterprise Single Sign-On for the Web"/>
    <meta name="keywords" content="authentication, login, cas, central authentication service, web, java, protocol, thymeleaf,
                   open source, boot, spring, authorization, google, facebook, twitter, higher-ed, enterprise,
                   access management, single sign-on, sso, RBAC, ABAC, attributes, SAML, OpenID, openid connect,
                   JWT, ADFS"/>
    <meta name="robots" content="index,follow"/>

    
    

    







    

    <script>
        ((i, s, o, g, r, a, m) => {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-83384532-2', 'auto');
        ga('send', 'pageview');

    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.5/css/lightbox.min.css" />
    
    
    <link rel="stylesheet" type="text/css" media="screen" href='/cas/stylesheets/stylesheet.css'>
    <link rel="stylesheet" type="text/css" media="print" href='/cas/stylesheets/print.css'>

    <link href='https://fonts.googleapis.com/css?family=Lato:400,300,700' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic&subset=latin-ext,latin' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" rel="stylesheet">

    <title>CAS - SAML2 Delegated Authentication</title>

</head>

<body>
    <!-- HEADER -->
    <header class="hidden-sm-down">
        <div class="container">
            <div class="row">
                <div class="col-xs-4 col-md-2">
                    <a href="../../index.html">
                        <img class="undecorated" src="/cas/images/cas_logo.png">
                    </a>
                </div>
                <div class="col-xs-8 col-md-6">
                    <h1>Enterprise Identity for All Earthlings and Beyond</h1>
<p><sub>Identity, Single Sign-On and Access Management</sub></p>
                </div>
                <div class="hidden-sm-down col-md-4">
                    <a id="forkme_banner" href="https://github.com/apereo/cas">View on GitHub</a>
                </div>

            </div>
        </div>
    </header>

    <!-- NAVBAR -->

    <nav class="navbar navbar-expand-md navbar-dark bg-primary bg-dark">
        
        <button onclick="navigateSidebar()" id="sidebarNavButton">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        
        <div class="container">
<!--            <button id="navigationNavButton" class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse"-->
<!--                    data-bs-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false"-->
<!--                    aria-label="Toggle navigation">-->
<!--                <span class="navbar-toggler-icon"></span>-->
<!--            </button>-->

            <div class="navbar-collapse collapse" id="navbarsExample04">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active"><a href="../../index.html" class="zoom nav-link">Home</a></li>
                    <li class="nav-item"><a href="https://github.com/apereo/cas/releases" class="zoom nav-link">Releases</a></li>
                    <li class="nav-item"><a href="../../Support.html" class="zoom nav-link">Support</a></li>
                    <li class="nav-item"><a href="../../Mailing-Lists.html" class="zoom nav-link">Mailing Lists</a></li>
                    <li class="nav-item dropdown">
                        <a class="zoom nav-link dropdown-toggle mr-md-2" href="javascript:void(0)" role="button" id="cas-versions" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Versions</a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="cas-versions">
                            
                            
                            <a class="dropdown-item" href="/cas/development/">Development</a>
                            
                            
                            
                            <a class="dropdown-item" href="/cas/7.2.x/">v7.2.x</a>
                            
                            
                            
                            <a class="dropdown-item" href="/cas/7.1.x/">v7.1.x</a>
                            
                            
                            
                            <a class="dropdown-item" href="/cas/7.0.x/">v7.0.x</a>
                            
                            

                        </div>
                    </li>
                    <li class="nav-item"><a href="https://apereo.github.io" target="_blank" rel="noopener" class="zoom nav-link">Blog</a></li>
                </ul>

            </div>

        </div>
    </nav>


    <div class="container-fluid">
        <div class="row flex-xl-nowrap">

            
                <div class="col-12 col-md-3 col-xl-2 docs-sidebar pb-5" id="sidebar"></div>

                <div class="d-none d-xl-block col-xl-2 docs-toc">
    <div id="pageContents">
        <ul class="section-nav"></ul>
    </div>
</div>

            

            <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 cas-docs-content" role="main">
                
                

                <section>
                    
                    <nav id="docsNavBar">
                        <span id="toolbarIcons"></span>
                    </nav>
                    

                    <div id="cas-docs-container">
                        
<h1 id="saml2-delegated-authentication---metadata-aggregates">SAML2 Delegated Authentication - Metadata Aggregates</h1>

<p>CAS allows you to aggregate multiple SAML2 identity provider metadata documents into a single
metadata document. Using this, you may design the delegation authentication workflow with CAS acting
as a single service provider supporting many identity providers all in the same single configuration block,
instead of having to configure and register each identity provider separately.</p>

<p>The metadata aggregate document tends to have the following structure:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td>
<td class="rouge-code"><pre><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;</span>
<span class="nt">&lt;EntitiesDescriptor</span> <span class="na">xmlns=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:metadata"</span>
                    <span class="na">xmlns:alg=</span><span class="s">"urn:oasis:names:tc:SAML:metadata:algsupport"</span>
                    <span class="na">xmlns:ds=</span><span class="s">"http://www.w3.org/2000/09/xmldsig#"</span>
                    <span class="na">xmlns:icmd=</span><span class="s">"http://id.incommon.org/metadata"</span>
                    <span class="na">xmlns:idpdisc=</span><span class="s">"urn:oasis:names:tc:SAML:profiles:SSO:idp-discovery-protocol"</span>
                    <span class="na">xmlns:init=</span><span class="s">"urn:oasis:names:tc:SAML:profiles:SSO:request-init"</span>
                    <span class="na">xmlns:mdattr=</span><span class="s">"urn:oasis:names:tc:SAML:metadata:attribute"</span>
                    <span class="na">xmlns:mdrpi=</span><span class="s">"urn:oasis:names:tc:SAML:metadata:rpi"</span>
                    <span class="na">xmlns:mdui=</span><span class="s">"urn:oasis:names:tc:SAML:metadata:ui"</span>
                    <span class="na">xmlns:remd=</span><span class="s">"http://refeds.org/metadata"</span>
                    <span class="na">xmlns:saml=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:assertion"</span>
                    <span class="na">xmlns:shibmd=</span><span class="s">"urn:mace:shibboleth:metadata:1.0"</span>
                    <span class="na">xmlns:xenc=</span><span class="s">"http://www.w3.org/2001/04/xmlenc#"</span>
                    <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
                    <span class="na">ID=</span><span class="s">"ABC20250317T191849"</span> <span class="na">Name=</span><span class="s">"urn:mace:example"</span><span class="nt">&gt;</span>
                    
    <span class="nt">&lt;EntityDescriptor</span> <span class="na">entityID=</span><span class="s">"urn:mace:incommon:example.edu"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;IDPSSODescriptor&gt;</span>
            ...
        <span class="nt">&lt;IDPSSODescriptor/&gt;</span>
    <span class="nt">&lt;/EntityDescriptor&gt;</span>
    
    <span class="nt">&lt;EntityDescriptor</span> <span class="na">entityID=</span><span class="s">"urn:mace:incommon:system.org"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;IDPSSODescriptor&gt;</span>
            ...
        <span class="nt">&lt;IDPSSODescriptor/&gt;</span>
    <span class="nt">&lt;/EntityDescriptor&gt;</span>

<span class="nt">&lt;/EntitiesDescriptor&gt;</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>When processed, each individual <code class="language-plaintext highlighter-rouge">EntityDescriptor</code> element is extracted and treated as a separate identity provider
using a simple randomized strategy to identify and name each identity provider as a <code class="language-plaintext highlighter-rouge">SAML2Client</code> in CAS. Where possible
and metadata permitting, <code class="language-plaintext highlighter-rouge">MDUI</code> information is extracted from the metadata aggregate and used to populate the identity provider’s
display name, description and logo.</p>

<div class="alert alert-info">
<img class="emoji" title=":information_source:" alt=":information_source:" src="https://github.githubassets.com/images/icons/emoji/unicode/2139.png" height="20" width="20"> <strong>Note</strong><p>If the metadata aggregate is super large
and includes thousands of identity provider definitions, you MUST ensure your CAS deployment runs with enough
memory to be able to load, parse and process the XML data and registering identity providers.</p>
</div>


                    </div>
                </section>
            </main>
        </div>
    </div>


    <footer>
        <div class="container">
            CAS is supported by the <a href="https://www.apereo.org/">Apereo Foundation</a>.
        </div>
    </footer>
    
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/tether@2.0.0/dist/js/tether.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script>

    <script src="/cas/javascripts/URI.js"></script>
    <script src="/cas/javascripts/main.js"></script>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.5/js/lightbox.min.js"></script>

    <script>
        let pageSection = 'Authentication';
        let siteUrl = '';
        let basePath = '/cas';

        
    </script>
</body>

</html>
