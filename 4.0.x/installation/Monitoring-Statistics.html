<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="CAS - Single Sign-On for the Web" />
    
    
    <link rel="stylesheet" type="text/css" media="screen"
          href="../../stylesheets/v40x-stylesheet.css">
    <link rel="stylesheet" type="text/css" media="print"
          href="../../stylesheets/print.css">
    <title>CAS - Monitoring & Statistics</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="../../javascripts/URI.js"></script>
    <script src="../../javascripts/v40x-main.js"></script>
  </head>

  <body>
    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/Jasig/cas">View on GitHub</a>
          <div id="project_title">
            <a class="undecorated" href="../../index.html">
              <img class="undecorated" src="../../images/cas_logo.png"/>
            </a>
          </div>
          <h2 id="project_tagline">Single Sign-On for the Web</h2>
        </header>
    </div>

    <!-- NAVBAR -->    
    <div id="navbar_wrap" class="outer">
      <header id="navbar_content" class="inner">
        <div class="navlink">
  <a href="../../index.html">Home</a>
</div>
<div class="navlink">
  <a href="https://github.com/Jasig/cas/releases">Downloads</a>
</div>
<div class="navlink">
  <a href="https://www.google.com/cse/publicurl?cx=017040929083740828958:sqr2hwvrxmg">Search</a>
</div>
<div class="navlink">
  <a href="../../Support.html">Support</a>
</div>
<div class="navlink">
  <a href="../../Mailing-Lists.html">Mailing Lists</a>
</div>
<div class="navlink">
  <a href="../../Older-Versions.html">Older Versions</a>
</div>

        </header>
    </div>

      <!-- SIDEBAR -->
      <div id="sidebar_wrap" class="outer">
        <header id="sidebar_content" class="inner">
          <span id="sidebartoc"></span>
        </header >
      </div>
      
      <!-- PAGE TABLE OF CONTENTS -->
      <div id="table_contents" class="outer">
        <header id="sidebar_content" class="inner">
          <span id="tableOfContents"></span>
        </header>
      </div>
      
      <!-- MAIN CONTENT -->
      <div id="main_content_wrap" class="outer">
        <section id="main_content" class="inner">
          <h1 id="monitoring">Monitoring</h1>
<p>The CAS server exposes a <code>/status</code> endpoint that may be used to inquire about the health and general state of the software. Access to the endpoint is secured by Spring Security at <code>src/main/webapp/WEB-INF/spring-configuration/securityContext.xml</code>:</p>

<div class="highlight"><pre><code class="xml"><span class="nt">&lt;sec:http</span> <span class="na">pattern=</span><span class="s">&quot;/status/**&quot;</span> <span class="na">entry-point-ref=</span><span class="s">&quot;notAuthorizedEntryPoint&quot;</span> <span class="na">use-expressions=</span><span class="s">&quot;true&quot;</span> <span class="na">auto-config=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;sec:intercept-url</span> <span class="na">pattern=</span><span class="s">&quot;/status&quot;</span> <span class="na">access=</span><span class="s">&quot;hasIpAddress(&#39;${cas.securityContext.status.allowedSubnet}&#39;)&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/sec:http&gt;</span>
</code></pre></div>

<p>Access is granted the following settings in <code>cas.properties</code> file:</p>

<div class="highlight"><pre><code class="bash"><span class="c"># IP address or CIDR subnet allowed to access the /status URI of CAS that exposes health check information</span>
<span class="c"># IPv6 version</span>
cas.securityContext.status.allowedSubnet<span class="o">=</span>127.0.0.1

<span class="c"># IPv4 version</span>
<span class="c">#cas.securityContext.status.allowedSubnet=127.0.0.1</span>
</code></pre></div>

<h2 id="sample-output">Sample Output</h2>

<div class="highlight"><pre><code class="bash">Health: OK

	1.MemoryMonitor: OK - 322.13MB free, 495.09MB total.
</code></pre></div>

<h1 id="statistics">Statistics</h1>
<p>Furthermore, the <code>cas-management</code> web application has the ability to present statistical data about the runtime environment as well as ticket registryâ€™s performance:</p>

<p><img src="http://i.imgur.com/ZkNC6l9.png" alt="" /></p>

        </section>
      </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>CAS is supported by the <a href="http://www.apereo.org/">Apereo Foundation</a>.</p>
      </footer>
    </div>
  </body>
</html>
