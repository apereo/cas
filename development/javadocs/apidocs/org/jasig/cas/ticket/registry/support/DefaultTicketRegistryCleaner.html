<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_76) on Thu Aug 20 10:24:42 UTC 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DefaultTicketRegistryCleaner (Apereo Central Authentication Service 4.1.0-SNAPSHOT API)</title>
<meta name="date" content="2015-08-20">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DefaultTicketRegistryCleaner (Apereo Central Authentication Service 4.1.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultTicketRegistryCleaner.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../../org/jasig/cas/ticket/registry/support/JpaLockingStrategy.html" title="class in org.jasig.cas.ticket.registry.support"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/jasig/cas/ticket/registry/support/DefaultTicketRegistryCleaner.html" target="_top">Frames</a></li>
<li><a href="DefaultTicketRegistryCleaner.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jasig.cas.ticket.registry.support</div>
<h2 title="Class DefaultTicketRegistryCleaner" class="title">Class DefaultTicketRegistryCleaner</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../org/jasig/cas/ticket/registry/RegistryCleaner.html" title="interface in org.jasig.cas.ticket.registry">RegistryCleaner</a></dd>
</dl>
<hr>
<br>
<pre>public final class <span class="strong">DefaultTicketRegistryCleaner</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../../org/jasig/cas/ticket/registry/RegistryCleaner.html" title="interface in org.jasig.cas.ticket.registry">RegistryCleaner</a></pre>
<div class="block">The default ticket registry cleaner scans the entire CAS ticket registry
 for expired tickets and removes them.  This process is only required so that
 the size of the ticket registry will not grow beyond a reasonable size.
 The functionality of CAS is not dependent on a ticket being removed as soon
 as it is expired.
 <p><strong>NEW</strong> in 3.3.6:</p>
 <p>
 Locking strategies may be used to support high availability environments.
 In a clustered CAS environment with several CAS nodes executing ticket
 cleanup, it is desirable to execute cleanup from only one CAS node at a time.
 This dramatically reduces the potential for deadlocks in
 JPA-backed ticket registries, for example.

 By default this implementation uses <a href="../../../../../../org/jasig/cas/ticket/registry/support/NoOpLockingStrategy.html" title="class in org.jasig.cas.ticket.registry.support"><code>NoOpLockingStrategy</code></a> to preserve
 the same semantics as previous versions, but specific locking strategies
 for JPA should be used with a JPA-backed ticket registry
 in a clustered CAS environment.
 </p>
 <p>The following property is required.</p>
 <ul>
 <li>ticketRegistry - CAS ticket registry.</li>
 </ul></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>3.0.0</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Scott Battaglia, Marvin S. Addison, Misagh Moayyed</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../org/jasig/cas/ticket/registry/support/NoOpLockingStrategy.html" title="class in org.jasig.cas.ticket.registry.support"><code>NoOpLockingStrategy</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/jasig/cas/ticket/registry/support/DefaultTicketRegistryCleaner.html#DefaultTicketRegistryCleaner(org.jasig.cas.CentralAuthenticationService,%20org.jasig.cas.ticket.registry.TicketRegistry)">DefaultTicketRegistryCleaner</a></strong>(<a href="../../../../../../org/jasig/cas/CentralAuthenticationService.html" title="interface in org.jasig.cas">CentralAuthenticationService</a>&nbsp;centralAuthenticationService,
                            <a href="../../../../../../org/jasig/cas/ticket/registry/TicketRegistry.html" title="interface in org.jasig.cas.ticket.registry">TicketRegistry</a>&nbsp;ticketRegistry)</code>
<div class="block">Instantiates a new Default ticket registry cleaner.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../../org/jasig/cas/ticket/Ticket.html" title="interface in org.jasig.cas.ticket">Ticket</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/jasig/cas/ticket/registry/support/DefaultTicketRegistryCleaner.html#clean()">clean</a></strong>()</code>
<div class="block">Method to kick-off the cleaning of a registry.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/jasig/cas/ticket/registry/support/DefaultTicketRegistryCleaner.html#setLock(org.jasig.cas.ticket.registry.support.LockingStrategy)">setLock</a></strong>(<a href="../../../../../../org/jasig/cas/ticket/registry/support/LockingStrategy.html" title="interface in org.jasig.cas.ticket.registry.support">LockingStrategy</a>&nbsp;strategy)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>As of 4.1. Consider using constructors instead.</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/jasig/cas/ticket/registry/support/DefaultTicketRegistryCleaner.html#setLogoutManager(org.jasig.cas.logout.LogoutManager)">setLogoutManager</a></strong>(<a href="../../../../../../org/jasig/cas/logout/LogoutManager.html" title="interface in org.jasig.cas.logout">LogoutManager</a>&nbsp;logoutManager)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>As of 4.1. Consider using constructors instead.</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/jasig/cas/ticket/registry/support/DefaultTicketRegistryCleaner.html#setLogUserOutOfServices(boolean)">setLogUserOutOfServices</a></strong>(boolean&nbsp;logUserOutOfServices)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>As of 4.1, single signout callbacks are entirely controlled by the <a href="../../../../../../org/jasig/cas/logout/LogoutManager.html" title="interface in org.jasig.cas.logout"><code>LogoutManager</code></a>.</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/jasig/cas/ticket/registry/support/DefaultTicketRegistryCleaner.html#setTicketRegistry(org.jasig.cas.ticket.registry.TicketRegistry)">setTicketRegistry</a></strong>(<a href="../../../../../../org/jasig/cas/ticket/registry/TicketRegistry.html" title="interface in org.jasig.cas.ticket.registry">TicketRegistry</a>&nbsp;ticketRegistry)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>As of 4.1. Consider using constructors instead.</i></div>
</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DefaultTicketRegistryCleaner(org.jasig.cas.CentralAuthenticationService, org.jasig.cas.ticket.registry.TicketRegistry)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DefaultTicketRegistryCleaner</h4>
<pre>public&nbsp;DefaultTicketRegistryCleaner(<a href="../../../../../../org/jasig/cas/CentralAuthenticationService.html" title="interface in org.jasig.cas">CentralAuthenticationService</a>&nbsp;centralAuthenticationService,
                            <a href="../../../../../../org/jasig/cas/ticket/registry/TicketRegistry.html" title="interface in org.jasig.cas.ticket.registry">TicketRegistry</a>&nbsp;ticketRegistry)</pre>
<div class="block">Instantiates a new Default ticket registry cleaner.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>centralAuthenticationService</code> - the CAS interface acting as the service layer</dd><dd><code>ticketRegistry</code> - the ticket registry</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="clean()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clean</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../../org/jasig/cas/ticket/Ticket.html" title="interface in org.jasig.cas.ticket">Ticket</a>&gt;&nbsp;clean()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../org/jasig/cas/ticket/registry/RegistryCleaner.html#clean()">RegistryCleaner</a></code></strong></div>
<div class="block">Method to kick-off the cleaning of a registry.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/jasig/cas/ticket/registry/RegistryCleaner.html#clean()">clean</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/jasig/cas/ticket/registry/RegistryCleaner.html" title="interface in org.jasig.cas.ticket.registry">RegistryCleaner</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the collection of removed/cleaned tickets</dd></dl>
</li>
</ul>
<a name="setTicketRegistry(org.jasig.cas.ticket.registry.TicketRegistry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTicketRegistry</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;void&nbsp;setTicketRegistry(<a href="../../../../../../org/jasig/cas/ticket/registry/TicketRegistry.html" title="interface in org.jasig.cas.ticket.registry">TicketRegistry</a>&nbsp;ticketRegistry)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>As of 4.1. Consider using constructors instead.</i></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ticketRegistry</code> - The ticketRegistry to set.</dd></dl>
</li>
</ul>
<a name="setLock(org.jasig.cas.ticket.registry.support.LockingStrategy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLock</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;void&nbsp;setLock(<a href="../../../../../../org/jasig/cas/ticket/registry/support/LockingStrategy.html" title="interface in org.jasig.cas.ticket.registry.support">LockingStrategy</a>&nbsp;strategy)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>As of 4.1. Consider using constructors instead.</i></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>strategy</code> - Ticket cleanup locking strategy.  An exclusive locking
 strategy is preferable if not required for some ticket backing stores,
 such as JPA, in a clustered CAS environment.  Use JPA locking strategies
 for JPA-backed ticket registries in a clustered
 CAS environment.</dd></dl>
</li>
</ul>
<a name="setLogUserOutOfServices(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLogUserOutOfServices</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;void&nbsp;setLogUserOutOfServices(boolean&nbsp;logUserOutOfServices)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>As of 4.1, single signout callbacks are entirely controlled by the <a href="../../../../../../org/jasig/cas/logout/LogoutManager.html" title="interface in org.jasig.cas.logout"><code>LogoutManager</code></a>.</i></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>logUserOutOfServices</code> - whether to logger the user out of services or not.</dd></dl>
</li>
</ul>
<a name="setLogoutManager(org.jasig.cas.logout.LogoutManager)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setLogoutManager</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;void&nbsp;setLogoutManager(<a href="../../../../../../org/jasig/cas/logout/LogoutManager.html" title="interface in org.jasig.cas.logout">LogoutManager</a>&nbsp;logoutManager)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>As of 4.1. Consider using constructors instead.</i></div>
<div class="block">Set the logout manager.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>logoutManager</code> - the logout manager.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultTicketRegistryCleaner.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../../org/jasig/cas/ticket/registry/support/JpaLockingStrategy.html" title="class in org.jasig.cas.ticket.registry.support"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/jasig/cas/ticket/registry/support/DefaultTicketRegistryCleaner.html" target="_top">Frames</a></li>
<li><a href="DefaultTicketRegistryCleaner.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2004&#x2013;2015 <a href="http://www.apereo.org">Apereo</a>. All rights reserved.</small></p>
</body>
</html>
